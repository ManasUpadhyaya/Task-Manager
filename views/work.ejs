<%- include("partials/header.ejs") %>

<% if (locals.data) { %>
    <h1>Work Task</h1>
  <% for (var i = 0; i < data.length; i++) { %>
    <% const x = "Task"+ i %>
    <div class="task-container" id = <%= x %>>
      <h2>Task Name: <%= data[i].taskName %></h2>
      <p>Description: <%= data[i].description %></p>
      <p>Due Date: <%= data[i].dueDate %></p>
      <!-- Replace select with a checkbox -->
      <label for="completed">Completed:</label>
      <input type="checkbox" id="completed" class="completed-checkbox" onclick="finished()">
    </div>
  <% } %>
<% } %>

<div>
    <button class="add-button" onclick="openForm()">Add</button>
</div>


<!-- A button to open the popup form -->

<!-- The form -->
<div class="form-popup" id="myForm">
  <form action="/work" class="form-container" method="POST">
    <h4>Enter The Task</h4>

    <label for="task-name"><b>Task Name</b></label>
    <input type="text" placeholder="Enter Task Name" name="task-name" required>

    <label for="description"><b>Description</b></label>
    <input type="text" placeholder="Description" name="description" required>
    
    <label for="due-date"><b>Due Date</b></label>
    <input type="date" placeholder="Due Date" name="due-date" required>

    <button type="submit" class="btn" onclick="closeForm()">Submit</button>
  </form>
</div>

<%- include("partials/footer.ejs") %>
